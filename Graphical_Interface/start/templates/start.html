<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student and Teacher Management</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='start.css') }}">
</head>
<body>
    <div class="container">
        <h1>Student and Teacher Management</h1>
        
        <form action="/submit" method="POST" enctype="multipart/form-data">
        <div class="section">
            <div class="upload-header">
                <h2>
                    Upload .csv file with the students and their promotion
                    <button type='button' class="info-btn" data-info="Upload a CSV file with the students and their promotion information. The file should contain columns for student names and their respective promotions." onclick="showInfo(event)">i</button>
                </h2>
            </div>
            <div class="upload-area" id="students-upload-area" data-input="students-file" data-list="students-uploaded-files">
                <input type="file" id="students-file" name="students_files" accept=".csv" multiple>
                <div class="uploaded-files" id="students-uploaded-files"></div>
                <button type='button' class="upload-btn" onclick="triggerFileInput('students-file')">Upload Files</button>
            </div>
        </div>

        <div class="section">
            <div class="upload-header">
                <h2>
                    Upload .csv file for the level
                    <button type='button' class="info-btn" data-info="Upload a CSV file with the level information. The file should contain columns for the level details." onclick="showInfo(event)">i</button>
                </h2>
            </div>
            <div class="upload-area" id="level-upload-area" data-input="level-file" data-list="level-uploaded-files">
                <input type="file" id="level-file" name="level_files" accept=".csv" multiple>
                <div class="uploaded-files" id="level-uploaded-files"></div>
                <button type='button' class="upload-btn" onclick="triggerFileInput('level-file')">Upload Files</button>
            </div>
        </div>

        <div class="section">
            <h2>Estimate New Students Next Year</h2>
            <div class="form-group">
                <label for="estimate-number">Number:</label>
                <input type="number" id="estimate-number" name="estimate_number_student" placeholder="Number"  value="16" min=1>
                <button type='button' class="btn" onclick="submitEstimate()">Submit</button>
            </div>
        </div>

        <div class="section">
            <h2>Half-day slots</h2>
            <div class="form-group">
                <label for="estimate-number">Number:</label>
                <input type="number" id="estimate-number" name="halfday_slot" placeholder="Number" value="3" min=1>
                <button type='button' class="btn" onclick="submitEstimate()">Submit</button>
            </div>
        </div>

        <div class="section">
            <h2>Manage Teachers</h2>
            <div class="form-group">
                <label >Add a new teacher:</label>
                <button type='button' class="btn" onclick="addTeacher()">Add Teacher</button>
            </div>
            <div class="teacher-list-section">
                <h3>Teacher List</h3>
                <ul id="teacher-list">
                    <!-- Liste des professeurs sera générée ici -->
                    <li>
                        Professeur 1
                        <button class="btn" onclick="modifyTeacher()">Modify</button>
                        <button class="btn cancel-btn" onclick="deleteTeacher()">Delete</button>
                    </li>
                    <li>
                        Professeur 2
                        <button type='button' class="btn" onclick="modifyTeacher()">Modify</button>
                        <button type='button' class="btn cancel-btn" onclick="deleteTeacher()">Delete</button>
                    </li>
                    <!-- Fin de la liste des professeurs -->
                </ul>
            </div>
        </div>

        <div class="section">
            <button class="btn" type="submit">Create the Planning</button>
            <button type='button' class="btn cancel-btn" onclick="cancelPlanning()">Cancel</button>
        </div>
        </form> 
    </div>

    <div id="info-popup" class="popup">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup()">&times;</span>
            <p id="popup-text"></p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='start.js') }}"></script>
</body>
</html>
